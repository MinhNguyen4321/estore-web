<!-- Title-->
<div class="d-sm-flex flex-wrap justify-content-between align-items-center border-bottom pb-4 mb-4">
    <h2 class="h3 m-0 text-center text-sm-start">
        <span th:text="#{global.permission_and_status}"></span>
    </h2>
</div>
<!-- Table-->
<table class="table table-sm" id="user-manager-table" datatable="ng" dt-options="dtOptions" >
    <thead>
    <tr>
        <th class="align-middle" th:text="#{global.avatar}"></th>
        <th class="align-middle" th:text="#{global.full_name}"></th>
        <th class="align-middle border-end" th:text="#{global.email}"></th>
        <th class="align-middle text-center">ROLE_CUSTOMER</th>
        <th class="align-middle text-center">ROLE_STAFF</th>
        <th class="align-middle text-center">ROLE_DIRECTOR</th>
        <!--<th class="align-middle text-center" ng-repeat="role in roles">{{role.name}}</th>-->
        <th class="align-middle text-center border-start" th:text="#{global.status}"></th>
    </thead>
    <tbody>
    <tr ng-repeat="user in users">
        <td class="align-middle">
            <img class="img-fluid rounded-circle" alt="{{user.username}}"
                 ng-src="/assets/user/img/avatar/{{user.photo ? user.photo : 'default.png'}}"
                 style="width: 70px">
        </td>
        <td class="align-middle">{{user.fullname}}</td>
        <td class="align-middle border-end">{{user.email}}</td>
        <td class="align-middle text-center" ng-repeat="role in roles">
            <input type="checkbox" class="form-check-input pointer" ng-checked="authorityCheck(user, role)"
                ng-click="changeAuthority(user, role)">
        </td>
        <td class="align-middle pointer text-center border-start" ng-click="changeUserStatus(user, $index)">
            <div ng-if="user.enabled == 'false'">
                <button type="button" class="btn bg-faded-danger btn-icon"><i
                        class="fa-solid fa-lock"></i></button>
                <span class="badge bg-danger">{{lang == 'vi' ? 'Vô hiệu hoá' : 'Disabled'}}</span>
            </div>
            <div ng-if="user.enabled == 'true'">
                <button type="button" class="btn bg-faded-success btn-icon"><i
                        class="fa-solid fa-unlock"></i></button>
                <span class="badge bg-success">{{lang == 'vi' ? 'Kích hoạt' : 'Enabled'}}</span>
            </div>
        </td>
    </tr>
    </tbody>
</table>